!function(a,b){"use strict";b["true"]=a;var c,d,e,f,g,h,i;c=jQuery,d=c.q,c.fx.speeds._default=700,c.cookie.json=!0,h={},i={animations:{responsive_out:"do-fadeOut",responsive_in:"do-fadeIn",out:"do-fadeOutUp","in":"do-fadeInUp"},portfolio:{has_desc:!0,detect_hover:!0},on_scroll:{enable:!0,force:!1,x:!0,y:!0,speed_x:100,speed_y:100},size:{header_toggle_width:44,header_width:220,image_height:560,image_width:900},scroll:{speedX:30,speedY:30,hs_scrollbar:!0},gallery:{enable:!0,root_url:"/",fit:"cover",transition:"slide",loop:!1,thumbnails:!0,thumbnails_overlay:!0,thumbnails_height:100,mouse_timeout:!0,mouse_timeout_ms:900,autoplay:!1,autoplay_stop:!0,autoplay_duration:3e3,networks:[]},slider:{duration:3e3,animation:"fade",animation_speed:1300,animation_easing:"easeInOutQuad"},scroll_notification:{enable:!0,enable_cookies:!0,times:2,expires:7}},e={config:c.extend(!0,{},i,__VILLAGE_VARS.config),is:{responsive:null,regular:null,gallery:!1},sniff:{},win:{height:0,width:0},Page:!1,Loading:!1,Util:!1,Location:!1},g=function(){var a,b;return b=window,a="inner","innerWidth"in window||(a="client",b=document.documentElement||document.body),{width:b[a+"Width"],height:b[a+"Height"]}},e.set_window_size=function(){e.win=g(),d(window).trigger("themeresized")},f=_.debounce(e.set_window_size,300),d(document).ready(e.set_window_size),d(window).on("resize orientationchange",f),window.Kameron_Theme=e;var j,k=function(a,b){return function(){return a.apply(b,arguments)}};j=function(){function a(a,e){var f,g,h;this.data=e,this.set_fotorama_image=k(this.set_fotorama_image,this),this.hide_thumbnails=k(this.hide_thumbnails,this),this.show_thumbnails=k(this.show_thumbnails,this),this.show_sidebar=k(this.show_sidebar,this),this.hide_sidebar=k(this.hide_sidebar,this),this.enable_addons=k(this.enable_addons,this),this.disable_addons=k(this.disable_addons,this),this.images=_.map(this.data,function(a){return{img:a.image,thumb:a.thumb,caption:a.caption,thumbratio:a.thumbwidth/a.thumbheight,video:a.video}}),this.currentID=0,this.fotorama=!1,this.disabled=!1,h={thumbs:!1,sidebar:!1},f=c.cookie("village_gallery"),this.view=c.extend(!0,{},h,a,f),this.back_url=b.root_url,g=_.filter(this.data,function(a){return null!=a.desc&&""!==a.desc}),b.thumbnails_overlay&&d("#gallery").addClass("overlay-thumbs"),0===g.length?this.destroy_sidebar():this.view.sidebar===!1&&this.hide_sidebar(),this.attach_events(),this.setup(this.images)}var b,f;return f=window.history&&window.history.pushState&&window.history.replaceState,b=e.config.gallery,a.prototype.detach_events=function(){d("#gallery__stage").off("fotorama:showend",this.set_fotorama_image),d("#gallery__stage").off("fotorama:loadvideo",this.disable_addons),d("#gallery__stage").off("fotorama:unloadvideo",this.enable_addons)},a.prototype.attach_events=function(){d("#gallery__stage").on("fotorama:showend",this.set_fotorama_image),d("#gallery__stage").on("fotorama:loadvideo",this.disable_addons),d("#gallery__stage").on("fotorama:unloadvideo",this.enable_addons)},a.prototype.setup=function(a){var c;return c={fit:b.fit,transition:b.transition,width:e.win.width,height:b.thumbnails_overlay?e.win.height:"100%",thumbheight:b.thumbnails_height,nav:b.thumbnails&&this.view.thumbs===!0?"thumbs":!1,autoplay:b.autoplay?b.autoplay_duration:!1,stopautoplaytouch:b.autoplay_stop,loop:b.loop,data:a},d("#gallery__stage").fotorama(c),this.fotorama=d("#gallery__stage").data("fotorama"),d("#gallery").removeClass("init"),this.fotorama?(this.view.thumbs===!0&&this.show_thumbnails(),this.view.sidebar===!0&&this.show_sidebar(),this):void 0},a.prototype.close=function(a,b){var e=this;return null==a&&(a=!1),null==b&&(b=!1),(b===!1||b===window.location.href)&&(b=this.back_url),f&&(a||document.referrer.indexOf(window.location.host)>=0)?window.history.back():c.pronto("load",b),d(window).one("stage/complete",function(){return e.destroy()})},a.prototype.disable_addons=function(){this.disabled=!0,d("#gallery").addClass("disable-addons")},a.prototype.enable_addons=function(){this.disabled=!1,d("#gallery").removeClass("disable-addons")},a.prototype.destroy=function(){return this.detach_events(),this.fotorama&&this.fotorama.destroy(),d("#gallery").remove(),d("#gallery__stage",!0),d("#gallery__sidebar",!0),d("#gallery",!0)},a.prototype.destroy_sidebar=function(){return d("#gallery").addClass("is-full no-sidebar"),this.view.sidebar=!1,this.detach_events()},a.prototype.update_sidebar=function(a){var b,e,f,g;if(this.view.sidebar!==!1)return g=[],e=d("#gallery__sidebar"),f=e.find(".title"),b=e.find(".desc"),g.push(f.animate({opacity:0},150)),g.push(b.animate({opacity:0},150)),c.when.apply(null,g).done(function(){f.text(a.caption).animate({opacity:1},300),b.html(a.desc).animate({opacity:1},300),g=[]})},a.prototype.hide_sidebar=function(a){null==a&&(a=!0),d("#gallery").addClass("is-full").removeClass("show-sidebar"),a&&this.fotorama&&this.fotorama.resize(),this.view.sidebar=!1,c.cookie("village_gallery",this.view,{path:"/"})},a.prototype.show_sidebar=function(a){null==a&&(a=!0),d("#gallery").addClass("show-sidebar").removeClass("is-full"),a&&this.fotorama&&this.fotorama.resize(),this.view.sidebar=!0,c.cookie("village_gallery",this.view,{path:"/"}),this.set_image("current")},a.prototype.toggle_thumbnails=function(){return this.view.thumbs===!0?this.hide_thumbnails():this.show_thumbnails()},a.prototype.show_thumbnails=function(){var a=this;return this.fotorama.setOptions({nav:"thumbs"}),d("#gallery").find(".fotorama__nav").animo({animation:"do-fadeInUp",duration:.2,timing:"ease-out",keep:!1},function(){return a.view.thumbs=!0,c.cookie("village_gallery",a.view,{path:"/"}),d("#gallery").addClass("show-thumbnails")})},a.prototype.hide_thumbnails=function(){var a=this;return d("#gallery").find(".fotorama__nav").animo({animation:"do-fadeOutDown",duration:.2,timing:"ease-in",keep:!1},function(){return a.view.thumbs=!1,c.cookie("village_gallery",a.view,{path:"/"}),d("#gallery").removeClass("show-thumbnails"),a.fotorama.setOptions({nav:!1})})},a.prototype.set_fotorama_image=function(a,b){return this.set_image(b.activeIndex)},a.prototype.set_image=function(a){var b;if(null==a&&(a="current"),"current"===a)a=this.currentID;else{if(a===this.currentID)return;this.currentID=a}return this.view.sidebar?(b=this.data[this.currentID],this.update_sidebar(b)):void 0},a}();var l,k=function(a,b){return function(){return a.apply(b,arguments)}};l=function(){function a(){this.hide=k(this.hide,this),this.show=k(this.show,this),this.mode=null,this.saved_mode=null,this.is_setup=c.Deferred(),this.is_setup.promise()}return a.prototype.setup=function(a){var b;return null==a&&(a=!1),b=a?"responsive":"regular",this._set(b),this.mode=b,this.is_setup.resolve()},a.prototype.is_tmp=function(){return null!==this.saved_mode},a.prototype.is_visible=function(){return!this.is_tmp()&&"regular"===this.mode},a.prototype.show=function(){return"regular"!==this.mode?d("#header").addClass("is-visible"):void 0},a.prototype.hide=function(){return"regular"!==this.mode?d("#header").removeClass("is-visible"):void 0},a.prototype.reset=function(){return null!==this.mode&&this.is_tmp()&&this.mode!==this.saved_mode?(this.mode=this.saved_mode,this.saved_mode=null,this._set(this.mode)):void 0},a.prototype._set=function(a){return this.is_tmp()?!1:("regular"===a&&d("html").addClass("header--regular").removeClass("header--toggleable"),"responsive"===a&&d("html").removeClass("header--regular").addClass("header--toggleable"),this)},a.prototype.set_to=function(a,b){var d=this;return null==a&&(a="regular"),null==b&&(b=!1),a!==this.mode?this.is_tmp()?!1:(c.when(this.is_setup).then(function(){d._set(a),b&&(d.saved_mode=d.mode),d.mode=a}),this):void 0},a}();var m;m=function(){function a(a){var b;this.init=!1,this.active={x:[],y:[]},b={force_parallax:!1,callbacks:{x:null,y:null},x:{interactiveScrollbars:!0,mouseWheel:!0,disableMouse:!0,mouseWheelSpeed:e.config.scroll.speedX,scrollX:!0,scrollY:!1,tap:Modernizr.touch?"click":void 0,keyBindings:e.config.scroll.keyboard_scroll,snap:e.config.scroll.keyboard_scroll?".hscol":!1,hasHorizontalScroll:!0,hasVerticalScroll:!1,scrollbars:e.config.scroll.hs_scrollbar&&!Modernizr.touch?"custom":!1,shrinkScrollbars:Modernizr.touch?"clip":"scale",bounce:!Modernizr.touch},y:{interactiveScrollbars:!0,mouseWheel:!0,disableMouse:!0,mouseWheelSpeed:e.config.scroll.speedY,scrollbars:"custom",scrollX:!1,tap:Modernizr.touch?"click":void 0,keyBindings:e.config.scroll.keyboard_scroll?{up:40,down:38}:!1,snap:e.config.scroll.keyboard_scroll?!0:!1}},this.settings=c.extend(!0,{},b,a)}return a.prototype.setup=function(a){this.destroy(),this.settings.x&&this.setup_horizontal(a),this.settings.y&&this.setup_vertical(a),this.maybe_hide_active_scrollbars(),this.init=!0},a.prototype.setup_vertical=function(a){var b,d,e,f,g,h,i,j,k;if(b=a.find(".js__scroll"),0!==b.length){for(e=this.settings.enable_parallax&&(this.settings.callbacks.y&&!Modernizr.touch||this.settings.force_parallax),k=[],g=i=0,j=b.length;j>i;g=++i)h=b[g],d=c(h),d.children().wrapAll('<div class="js__scroll__canvas"/>'),f=d.closest(".js__scroll--horizontal").length>0,(e||f===!0)&&(this.settings.y.probeType=3),this.active.y[g]=new IScroll(h,this.settings.y),k.push(f?this.active.y[g].on("scroll",this.maybe_stop_propagation):e?this.active.y[g].on("scroll",this.settings.callbacks.y):void 0);return k}},a.prototype.setup_horizontal=function(a){var b,d,e,f,g,h,i,j,k;if(a.find(".js__scroll--horizontal").length>0){for(d=this.settings.enable_parallax&&(this.settings.callbacks.y&&!Modernizr.touch||this.settings.force_parallax),j=a.find(".js__scroll--horizontal"),k=[],e=h=0,i=j.length;i>h;e=++h)f=j[e],b=c(f),b.removeClass("scroll--horizontal"),g=this.get_total_width(b.find(".hscol")),b.children().wrapAll('<div class="js__scroll__canvas" style="width: '+g+'px;"/>'),this.settings.x.probeType=0===e&&d?3:0,this.active.x[e]=new IScroll(f,this.settings.x),k.push(0===e&&d?this.active.x[e].on("scroll",this.settings.callbacks.x):void 0);return k}},a.prototype.maybe_stop_propagation=function(){this.options.stopPropagation=this.y<=this.maxScrollY||0===this.y?!1:!0},a.prototype.destroy=function(){var a,b,e,f,g,h,i;if(0!==this.active.x.length||0!==this.active.y.length){for(h=this.active.x,b=0,f=h.length;f>b;b++)a=h[b],a.destroy();for(i=this.active.y,e=0,g=i.length;g>e;e++)a=i[e],a.destroy();return this.active={x:[],y:[]},c(".js__scroll__canvas").length>0?d("#stage").find(".js__scroll__canvas").children().unwrap():void 0}},a.prototype.refresh=function(){var a,b,d,e,f,g,h,i,j;if(this.init===!1)return!1;for(i=this.active.x,e=0,g=i.length;g>e;e++)b=i[e],a=c(b.scroller),c(b.wrapper).removeClass("hide-scrollbar"),d=this.get_total_width(a.find(".hscol")),a.width(d),b.refresh();for(j=this.active.y,f=0,h=j.length;h>f;f++)b=j[f],c(b.wrapper).removeClass("hide-scrollbar"),b.refresh();this.maybe_hide_active_scrollbars()},a.prototype.maybe_hide_active_scrollbars=function(){var a,b,c,d,e,f;for(e=this.active.x.concat(this.active.y),f=[],a=c=0,d=e.length;d>c;a=++c)b=e[a],f.push(this.maybe_hide_scrollbar(b));return f},a.prototype.maybe_hide_scrollbar=function(a){var b,d;if(a.indicators)return b=a.indicators[0],d=b.wrapperHeight?b.wrapperHeight>b.indicatorHeight:b.wrapperWidth>b.indicatorWidth,d?c(a.wrapper).removeClass("hide-scrollbar"):c(a.wrapper).addClass("hide-scrollbar")},a.prototype.get_total_width=function(a){var b;return b=0,a.each(function(){return b+=c(this).outerWidth(!0)}),b+=80},a}();var n,k=function(a,b){return function(){return a.apply(b,arguments)}};n=function(){function a(){this.update_animations=k(this.update_animations,this),this.update_animations(),d(window).on("debouncedresize load",this.update_animations)}var b,f,g,h,i,j;return j=0,b=[],g=[],f=new c.Callbacks,h=0,i=0,a.prototype.update_animations=function(){this.animations=e.is.regular||e.Gallery&&!e.is.responsive?{out:e.config.animations.out,"in":e.config.animations["in"]}:{out:e.config.animations.responsive_out,"in":e.config.animations.responsive_in}},a.prototype.add_promise=function(){var a;return a=new c.Deferred,a.promise(),b.push(a),a},a.prototype.close=function(){var a,e,f;return f=d("#stage",!0),0!==f.length?(f=d("#stage").removeAttr("id").addClass("closing-stage"),e=new c.Deferred,e.promise(),b.push(e),f.find("#gallery").length>0?a=f:(f.children().wrapAll('<div class="fade-away-container"/>'),a=f.find(".fade-away-container")),a.animo({animation:this.animations.out,duration:1.5,timing:"ease-in",keep:!0},function(){return e.resolve(),g.push(f)})):void 0},a.prototype.purge=function(){var a,b,c;for(b=0,c=g.length;c>b;b++)a=g[b],a.remove();d(".closing-stage",!0).length>0&&d(".closing-stage").remove(),g=[]},a.prototype.add=function(a){var d,e,f;return f=++j,e=new c.Deferred,e.promise(),b.push(e),d=c(a.content),d.filter("#stage").first().removeClass("opening-stage closing-stage").attr("id","stage-tmp-"+f).addClass("opening-stage").css("z-index",50+f),d.animo({animation:this.animations["in"],duration:.6,timing:"ease-out",keep:!1},function(){return e.resolve()}),this.wait_to_complete(f,b.length),d},a.prototype.wait_to_complete=function(a,e){var g=this;if(a===j)return c.when.apply(null,b).done(function(){a===j&&b.length===e&&(d("#stage-tmp-"+a,!0).attr("id","stage").removeClass("opening-stage").css("z-index",""),d("#stage",!0),d(".opening-stage",!0).remove(),f.fire(a),f.empty(),d(window).trigger("stage/complete"),g.purge(),j=0,b=[])})},a}();var o;o=function(){function a(){}return a.prototype.delay=function(a,b){return setTimeout(b,a)},a.prototype.to_$=function(a){return _.isString(a)?c(a):a},a.prototype.random_time=function(){return _.random(500,1e3)/1e3},a}(),function(){var a,b;d(window).one("theme:sizes_setup",function(){return d(document.body).addClass("loaded")}),e.Util=new o,a=function(){var a,b;return a=e.sniff.isMoile===!0||e.win.width<768?!0:!1,b=null===e.is.responsive?a:e.is.responsive,b&&!a?(e.is.responsive=!1,void d(document).triggerHandler("theme/responsive",!1)):!b&&a?(d(window).scrollTop(0),d(window).scrollLeft(0),e.is.responsive=!0,void d(document).triggerHandler("theme/responsive",!0)):void(e.is.responsive=a)},d(window).on("themeresized",a),b=function(){d("#stage").fitVids()},d(window).load(function(){return b(),d("#main-menu").find("a").filter(function(){return!this.href||"#"===this.href}).addClass("no-link")})}.call(this),function(){d(window).on("load stage/complete",function(){return c("button, input[type=submit], .village-button").not(".js__wrapped").addClass("js__wrapped village-button__inner").wrap('<div class="village-button__wrapper"/>')})}.call(this),function(){d(window).on("stage/complete",function(){return c("form").each(function(){var a,b;return a=c(this),(b=a.attr("action"))&&b.indexOf("pjax=true")>-1?(b=b.replace("pjax=true",""),a.attr("action",b)):void 0})})}.call(this),function(){d("#main-menu").on("click","a",function(){var a,b;return a=c(this),b=a.attr("href"),b&&"#"!==b?(d("#main-menu .menu-item").removeClass("current-menu-item"),c(this).closest(".menu-item").addClass("current-menu-item")):void 0}),d(window).on("stage/complete",function(){var a,b,e;return b=window.location.href,c("#main-menu .current-menu-item a").attr("href")!==b?(e=/[^a-zA-Z0-9]/g,a=b.replace(e,""),d("#main-menu .menu-item").removeClass("current-menu-item").find("a").filter(function(){return this.href.replace(e,"")===a}).closest(".menu-item").addClass("current-menu-item")):void 0})}.call(this),function(){var a,b,f,g,h,i;window.history.pushState&&(g=new n,a=new c.Deferred,b=new c.Deferred,h=!1,f=!1,d(window).on("pronto.request",function(){f!==!0&&(f=!0,a=g.add_promise(),g.close())}),d(window).on("pronto.load",function(){a.resolve(),f=!1}),d(window).on("pronto.error",function(){window.location.href=h}),d(window).on("pronto.render",function(){b.resolve(),a.resolve(),h=!1}),i=function(a){var e;return b=g.add_promise(),e=g.add(a),d("#content").prepend(e),c.when(e).done(function(){return a.body_classes.push("loaded"),d("body").attr("class",a.body_classes.join(" ")),d("head title").text(a.title)})},d(window).on("stage/complete",function(){return e.is.responsive?void 0:e.Scroll.setup(d("#stage"))}),d("body").on("click","a",function(){var a;a=c(this).attr("href"),null!=a&&""!==a&&(h=a)}),d(document).ready(function(){return c.pronto({selector:"a:not(.no-pjax)",requestKey:"pjax",force:!0,target:{title:"title",content:"#content"},render:i})}))}.call(this),function(){var a,b;d("#content").on("click",".pfentry__image",function(){var a;return a=c(this).closest(".js__hscol").find(".js__link").attr("href"),null!=a?c.pronto("load",a):void 0}),e.config.portfolio.has_desc&&(a=!Modernizr.touch&&e.config.portfolio.detect_hover,b={open:function(a){return e.is.responsive?void 0:(a.addClass("display--desc").removeClass("display--image"),a.find(".js__open").stop().fadeOut())},close:function(a){return e.is.responsive?void 0:(a.removeClass("display--desc").addClass("display--image"),a.find(".js__open").stop().fadeIn())}},d("#content").on("click",".js__hscol .js__open, .js__hscol .js__close",function(){var d,f;e.is.responsive||(f=c(this),d=f.closest(".js__hscol"),f.hasClass("js__open")&&(a&&d.addClass("js__clicklock"),b.open(d)),f.hasClass("js__close")&&(a&&d.removeClass("js__clicklock"),b.close(d)))}),a&&d("#page").hoverIntent({selector:".js__pfentry",timeout:175,interval:50,sensitivity:6,over:function(){var a;return a=c(this),b.open(a)},out:function(){var a;return a=c(this),a.hasClass("js__clicklock")?void 0:b.close(a)}}))}.call(this),function(){var a;e.config.scroll_notification.enable&&(a=function(){function a(){var a;a=c.cookie(f,Number),_.isUndefined(a)||(g=a)}var b,f,g;return b=e.config.scroll_notification,f="icanhaz-scroll",g=0,a.prototype.should_attach_event=function(){return g<b.times||b.enable_cookies===!1?!0:!1},a.prototype.maybe_show=function(){return b.enable_cookies===!1?void d("#scroll-note").fadeIn():g<b.times&&d("body").hasClass("is-horizontal")?d("#scroll-note").fadeIn():void 0},a.prototype.hide=function(){return d("#scroll-note").fadeOut(500,function(){return b.enable_cookies?(++g,c.cookie(f,g,{expires:b.expires,path:"/"})):void 0})},a}(),d(window).one("theme:sizes_setup",function(){var b;return b=new a,b.should_attach_event()?(d(window).on("load stage/complete",_.debounce(b.maybe_show,400)),d("#scroll-i-get-it").on("click",b.hide)):void 0}))}.call(this),function(){var a,b,c,f,g,h,i,k,l,m,n,o,p,q,r;e.config.gallery.enable&&(k=null,d(window).on("pronto.request",function(){k=window.location.href}),f=!1,l={thumbs:!0,sidebar:!0},p=function(){var a,b;d("#gallery__stage",!0),d("#gallery__sidebar",!0),d("#gallery",!0),b=d("#gallery",!0).length>0,b?(a=d("#gallery-data",!0).data("gallery"),null!=a&&(e.Header.set_to("responsive",!0),e.Header.hide(),f=new j(l,a),e.Gallery=f)):e.Header.reset()},d(window).one("themeresized",p),d(window).on("stage/complete",function(){f!==!1&&(f.destroy(),f=!1),p()}),d(document).on("click","#gallery__close",function(a){return a.preventDefault(),a.stopPropagation(),k||(k=e.config.gallery.root_url),f.close(null,k)}),d(document).on("click","#gallery__thumbs__toggle",function(){return f.toggle_thumbnails()}),d(document).on("click","#gallery__sidebar__close",function(){return f.hide_sidebar(!e.is.responsive)}),d(document).on("click","#gallery__sidebar__open",function(){return f.show_sidebar(!e.is.responsive)}),d(window).on("theme:sizes_setup",function(){return e.Gallery&&e.Gallery.fotorama?f.fotorama.resize():void 0}),e.config.gallery.mouse_timeout=!1,e.config.gallery.mouse_timeout&&(h=null,a=!1,c=!1,g=e.config.gallery.mouse_timeout_ms,i="js__mouse-not-moving fotorama__wrap--no-controls",b="#gallery__sidebar, .fotorama__caption, #gallery__share, .fotorama__wrap--video",Modernizr.touch&&(g*=2),m=function(){a||c||(d("#gallery").addClass(i),c=!0)},q=function(){a||c&&(d("#gallery").removeClass(i),c=!1)},n=function(){clearTimeout(h),f&&(q(),h=setTimeout(m,g))},o=Math.round(g/2),r=_.throttle(n,o,{trailing:!1}),d(document).on("mousemove touchend",r),d(document).on("mouseenter",b,function(){f&&f.disabled!==!0&&(a=!0)}),d(document).on("mouseleave",b,function(){f&&f.disabled!==!0&&(a=!1)}),d(document).on("fotorama:loadvideo",function(){m(),a=!0}),d(document).on("fotorama:unloadvideo",function(){a=!1,q()})))}.call(this),function(){e.Header=new l,d("#header-toggle").hoverIntent({over:e.Header.show,out:e.Header.hide,timeout:200,interval:50}),d("#header-toggle .js__toggle").click(function(){return d("#header").toggleClass("is-visible")}),d(window).on("pronto.request",function(){return Modernizr.touch&&!e.Header.is_tmp()&&e.Header.hide(),e.is.responsive?void 0:d("#header__background").animate({"background-position-y":0,"background-position-x":0},1200,"easeInQuad")})}.call(this),function(){var a,b,f;0!==d("#fullscreen-gallery").length&&0!==d("#enter-site").length&&(a={play:e.config.slider.duration,animation:e.config.slider.animation,animation_speed:e.config.slider.animation_speed,animation_easing:e.config.slider.animation_easing,key_navigation:!1,pagination:!1},f=function(b){var e,f;return null==b&&(b=!1),e=d("#fullscreen-gallery"),f=c.extend({},a,e.data("slidesConfig")),e.superslides(f),1===e.find("img").length?e.superslides("stop"):void 0},b=_.once(function(){return Modernizr.cssanimations?d("html").animo({animation:"do-fadeOutUp",duration:.6,keep:!0},function(){window.location.href=d("#enter-site").attr("href")}):void(window.location.href=d("#enter-site").attr("href"))}),d(document).ready(f),d("#enter-site").length>0&&d(document).one("click mousewheel scroll",function(a){return a.preventDefault(),b()}))}.call(this),function(){var a,b,c;a={x:e.config.on_scroll.x,y:e.config.on_scroll.y,speed_x:e.config.on_scroll.speed_x/100,speed_y:e.config.on_scroll.speed_y/100,container_x:e.config.size.header_width+e.config.size.header_toggle_width,height:d("#header__background").data("height"),width:d("#header__background").data("width")},b=function(a,b,c,d,e){var f;return f=(c-d)/b*e,a*-f},c={enable_parallax:e.config.on_scroll.enable,force_parallax:e.config.on_scroll.force,callbacks:{y:function(){return d("#header__background").css({"background-position-y":b(this.y,this.maxScrollY,a.height,e.win.height,a.speed_y)})},x:function(){return d("#header__background").css({"background-position-x":b(this.x,this.maxScrollX,a.width,a.container_x,a.speed_x)})}}},e.Scroll=new m(c),e.Header_Scroll=new m({x:!1,y:{keyBindings:!1,snap:!1}}),d(window).on("load iscroll:refresh debouncedresize",function(){return e.Scroll.refresh()}),d(window).one("theme:sizes_setup",function(){return e.is.responsive?void 0:(e.Scroll.setup(d("#stage")),d(".js__scroll").scrollTop(0).scrollLeft(0),d(window).on("load hashchange",function(){return window.location.hash&&0!==e.Scroll.active.y.length&&d(window.location.hash).length?(e.Scroll.active.y[0].scrollToElement(window.location.hash,0),d(".js__scroll").scrollTop(0).scrollLeft(0)):void 0}))}),d(document).on("theme/responsive",function(a,b){return b===!0&&e.Scroll.destroy(),b===!1?e.Util.delay(100,function(){e.Scroll.setup(d("#stage"))}):void 0}),d(window).one("load",function(){return e.Header_Scroll.setup(d("#header"))}),d(window).on("theme:sizes_setup",function(){return e.Scroll.refresh(),e.Header_Scroll.refresh()})}.call(this),function(){var a,b,f,g,h,i,j,k,l,m,n,o,p=function(a,b){return function(){return a.apply(b,arguments)}};b=e.config.size,l={},j={},a=null,g=function(){function a(){this.update=p(this.update,this),this.previous_style=""}return a.prototype.update=function(){var a;return a=e.is.responsive?this.get_responsive():this.get_regular(),this.previous_style!==a?(1!==d("#js-style").length?this._writeDOM(a):d("#js-style").html(a),this.previous_style=a,d(window).triggerHandler("theme:sizes_setup")):void 0},a.prototype._writeDOM=function(a){var b,c;return b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style"),c.type="text/css",c.id="js-style",c.appendChild(document.createTextNode(a)),b.appendChild(c),d("#js-style",!0)},a.prototype.get_responsive=function(){return"#gallery {\n	height: "+e.win.height+"px;\n	width: "+e.win.width+"px;			\n}\n\n.js__stage_height {\n	height: "+e.win.height+"px;\n}\n"},a.prototype.get_regular=function(){return"body {\n	height: "+j.height+"px;\n}\n\n.stage .hscol {\n	height: "+l.entry.height+"px;\n}\n\n.hscol.js__service {\n	width: "+l.entry.height+"px;\n	margin-top: "+l.entry.margin+"px;\n}\n\n.stage, .js__winsize, .js__page {\n	height: "+l.content.height+"px;\n	width: "+l.content.width+"px;\n}\n\n.js__stage_height {\n	height: "+j.height+"px;\n}\n\n.js__hscol {\n	margin-top: "+l.entry.margin+"px;	\n}\n\n#gallery {\n	width: "+l.container.width+"px;\n	height: #SIZE.container.height}px;\n}\n"},a}(),i=function(){function a(){this.update=p(this.update,this),this.entries={}}return a.prototype.get=function(){return d(".stage:not(.closing-stage)",!0).find(".hscol").not(".service")},a.prototype.set_responsive=function(){return this.entries.css("width","")},a.prototype.update=function(){return this.entries=this.get(),0!==this.entries.length?e.is.responsive?this.set_responsive():l.short?this.scaleXY():this.scaleX():void 0},a.prototype.scaleX=function(){var a;return d("html").removeClass("layout--short"),a=this.entries.first(),a.data("entryWidth")!==a.width()?this.entries.each(function(a,b){var d,e;return d=c(b),e=d.data("entryWidth"),e>0?d.width(e):void 0}):void 0},a.prototype.scaleXY=function(){return d("html").addClass("layout--short"),this.entries.each(function(a,b){var d,e,f;return d=c(b),f=d.data("entryWidth"),f>0?(e=Math.ceil(f*l.entry.ratio),d.width(e)):void 0})},a}(),m=function(){function c(){this.set_layout_classes=p(this.set_layout_classes,this)}return c.prototype.setup_size=function(){var c,d,f,g,h,i,k,m;j=_.clone(e.win),null===a&&(a=null!=document.getElementById("wpadminbar")),a&&(j.height-=32),h=Math.floor((j.height-b.image_height)/2),g=Math.floor(j.height-2*h)-1,m=b.image_width,i=0,k=10>h,k&&(h=Math.round(.05*j.height),g=j.height-2*h),i=g/b.image_height,k&&(m=b.image_width*i),f=j.width>=b.image_width+b.header_width,c={width:j.width-b.header_toggle_width,height:j.height},d={width:f?j.width-b.header_width:c.width,height:j.height},l={container:c,content:d,entry:{width:m,height:g,margin:h,ratio:i},"short":k}},c.prototype.set_layout_classes=function(a,b){return b?d("html").removeClass("layout--regular").addClass("layout--responsive"):d("html").removeClass("layout--responsive").addClass("layout--regular")},c.prototype.change_app_state=function(){var a;return a=j.width>=b.image_width+b.header_width,e.is.regular=e.is.responsive===!1&&a?!0:!1,e.Header.setup(!e.is.regular),j.width-=e.is.regular&&!e.Header.is_tmp()?b.header_width:b.header_toggle_width},c}(),f=new g,h=new i,k=new m,n=function(){return h.update()},o=function(){return e.is.responsive||k.setup_size(),f.update(),h.update(),k.change_app_state(),e.Gallery&&e.Gallery.fotorama?e.Gallery.fotorama.resize(j):void 0},d(window).one("themeresized",function(a){return k.set_layout_classes(a,e.is.responsive)}),d(window).on("pronto.render",n),d(window).on("themeresized",o),d(document).on("theme/responsive",k.set_layout_classes)}.call(this),function(){var a,b,f,g,h,i,j,k,l,m;if(e.config.gallery.enable&&0!==e.config.gallery.networks.length){h={googleplus:{item_class:"googleplus",item_data:"googlePlus"},facebook:{item_class:"facebook",item_data:"facebook"},twitter:{item_class:"twitter",item_data:"twitter"},pinterest:{item_class:"pinterest",item_data:"pinterest"}},b={template:"",share:{}},m=e.config.gallery.networks;for(g in m)l=m[g],f=h[g],i=""!==l,b.share[f.item_data]=i,i&&(b.template+='<a class="network '+f.item_class+'" data-social-network="'+f.item_data+'">\n		        <i class="icon ion-social-'+f.item_class+'"></i>		 \n </a>');""!==b.template&&(a=!1,k=function(c,e){var f,g;g=e.data[0].img,f=d("#gallery__share",!0).find(".sharrre"),f.sharrre({share:b.share,urlCurl:"",buttons:{pinterest:{media:g}},enableHover:!1,template:b.template}),a=f.data("plugin_sharrre"),d("#gallery__share .share__networks",!0)},d("#content").on("fotorama:ready",_.debounce(k,200)),d("#content").on("click",".network",function(){var b,d;if(a&&(b=c(this),d=b.data("socialNetwork"),null!=d))return a.update(window.location.href,""),a.openPopup(d)}),j={show:function(){return e.Gallery?d("#gallery__share .share__networks").show().animo({animation:"do-fadeInUp",duration:.2,keep:!0,timing:"ease-out"}):void 0},hide:function(){e.Gallery&&d("#gallery__share .share__networks").animo({animation:"do-fadeOut",duration:.2,timing:"ease-out",keep:!1},function(){d("#gallery__share .share__networks").hide()})}},Modernizr.touch||d("#page").hoverIntent({selector:"#gallery__share",timeout:350,interval:50,over:j.show,out:j.hide}),d("#page").on("click","#gallery__share",function(){var a;return a=c(this),a.hasClass("is-open")?(a.removeClass("is-open"),j.hide()):(a.addClass("is-open"),j.show())}))}}.call(this)}({},function(){return this}());